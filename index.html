<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dataset Demo</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header class="topbar">
    <div class="wrap">
      <div class="topbar-row">
        <div class="brand">
          <div class="logo">D</div>
          <div>
            <div class="title">Dataset Demo</div>
            <div class="subtitle">Search · Play · Inspect JSON</div>
          </div>
        </div>

        <div class="stats" id="metaTop">—</div>
      </div>

      <div class="toolbar">
        <div class="searchbox">
          <span class="searchIcon">⌕</span>
          <input id="q" type="search" placeholder="搜索：id / caption / asr / json ..." autocomplete="off" />
        </div>

        <select id="field" title="选择搜索字段">
          <option value="all" selected>全字段</option>
          <option value="id">只搜 id</option>
          <option value="final_caption">只搜 final_caption</option>
          <option value="asr">只搜 asr</option>
          <option value="final_caption_asr">只搜 final_caption_asr</option>
          <option value="json">只搜 raw JSON</option>
        </select>

        <select id="pageSize" title="每页条数">
          <option value="10">每页 10</option>
          <option value="20" selected>每页 20</option>
          <option value="50">每页 50</option>
        </select>

        <label class="chip">
          <input id="autoExpandJson" type="checkbox" />
          <span>默认展开 JSON</span>
        </label>

        <button class="btn ghost" id="clear" type="button">清空</button>
      </div>

      <div class="meta" id="meta"></div>
    </div>
  </header>

  <main class="wrap main">
    <div id="list" class="grid"></div>

    <div class="pager">
      <button class="btn ghost" id="prev" type="button">上一页</button>
      <span id="pageInfo" class="pageInfo"></span>
      <button class="btn ghost" id="next" type="button">下一页</button>
    </div>

    <div class="footnote">
      音频规则：优先使用 <code>audio_url</code>；否则从 <code>audio_path</code> 取文件名映射到 <code>./audio/&lt;filename&gt;</code>（音频放在仓库 <code>audio/</code> 目录）。
      <br/>
      如果你 JSON 里文本本身写了 <code>...</code>，网页会原样显示；要显示全文请把 JSON 里的字段换成完整文本。
    </div>
  </main>

  <footer class="wrap footer">
    <span>GitHub Pages · Vanilla JS</span>
  </footer>

  <!-- 改动代码后 v=1 改成 v=2/v=3... 以绕开缓存 -->
  <script src="script.js?v=2"></script>
</body>
</html>
